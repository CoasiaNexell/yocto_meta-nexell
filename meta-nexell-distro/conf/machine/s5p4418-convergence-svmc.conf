#@TYPE: Machine
#@NAME: nexell

NEXELL_BOARD_NAME = "convergence_svmc"
NEXELL_BL1_BOARD_NAME = "convergence_svmc"
NEXELL_BL1_IMAGE_NAME = "convergence_svmc"
NEXELL_DISPATCHER_BOARD_NAME = "CONVERGENCESVMC"

# ------------------------------------------------------------
# Nexell Kernel Configuration
# ------------------------------------------------------------
KERNEL_DEVICETREE = "s5p4418-${NEXELL_BOARD_NAME}-rev00.dtb s5p4418-${NEXELL_BOARD_NAME}-rev01.dtb"
#MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += "rtl-8188eus-32"
#MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += "kernel-modules"

# ------------------------------------------------------------
# ROOTFS Size
# ------------------------------------------------------------
# $fastboot getvar capacity.mmc.0
# 7818182656 - 0x4400000 = 7746879488
# Available rootfs Size = 7565312 Kbyte
# ------------------------------------------------------------
# Reserved yocto extra space = 102400 Kbyte for pkg. install
# IMAGE_ROOTFS_EXTRA_SPACE="0 + 102400"
# ------------------------------------------------------------
# So, 7565312 - 102400(pyro) = 7462912 Kbyte
# ------------------------------------------------------------
# IMAGE_ROOTFS_SIZE = "2097152"
# ------------------------------------------------------------
# 2018.10.05 change
# ------------------------------------------------------------
# ROOTFS = 1024MB - 128MB
# USERDATA = 6144MB(6GB)
# ------------------------------------------------------------
IMAGE_ROOTFS_SIZE = "917504"

# ------------------------------------------------------------
# Nexell Etc Configuration
# ------------------------------------------------------------
# override touch class, capacitive touchscreen
NEXELL_TOUCH_CLASS = "CAPACITIVE"

# Nexell quickboot enabler
QUICKBOOT_ENABLE = "1"

# ------------------------------------------------------------
# Nexell User Partition Configuration
# ------------------------------------------------------------
NEXELL_USER_PARTITION_SIZE ?= "4G"
NEXELL_ROOT_PARTITION_SIZE ?= "3221225472"
# ------------------------------------------------------------
# Nexell U-boot env Configuration
# ------------------------------------------------------------

UBOOT_BOOTARGS ?= "console=ttyAMA3,115200n8"
UBOOT_BOOTARGS += "root=\/dev\/mmcblk0p5 rw rootfstype=ext4"
UBOOT_BOOTARGS += "init=\/sbin\/nx_init loglevel=4 rootwait quiet printk.time=1"
UBOOT_BOOTARGS += "misc_part=\/dev\/mmcblk0p3"
UBOOT_BOOTARGS += "consoleblank=0 coherent_pool=4M systemd.log_level=info"
UBOOT_BOOTARGS += "systemd.show_status=false"
UBOOT_BOOTARGS += "nx_drm.fb_buffers=3 nx_drm.fb_pan_crtcs=0x1"
UBOOT_BOOTARGS += "nx_drm.fb_conns=1 nx_drm.fb_argb=1"

UBOOT_RECOVERYBOOT_ARGS ?= "setenv bootargs console=ttyAMA3,115200n8"
UBOOT_RECOVERYBOOT_ARGS += "root=\/dev\/ram0 loglevel=4 printk.time=1"
UBOOT_RECOVERYBOOT_ARGS += "consoleblank=0"
UBOOT_RECOVERYBOOT_ARGS += "rdinit=\/sbin\/nx_init"
UBOOT_RECOVERYBOOT_ARGS += "misc_part=\/dev\/mmcblk0p3"
UBOOT_RECOVERYBOOT_ARGS += "nx_drm.fb_buffers=3 nx_drm.fb_pan_crtcs=0x1"
UBOOT_RECOVERYBOOT_ARGS += "nx_drm.fb_conns=1 nx_drm.fb_argb=0;"
UBOOT_RECOVERYBOOT_ARGS += "run boot_cmd_ramfsboot;"
#		"

#@DESCRIPTION: Machine configuration for nexell systems
include conf/machine/include/${BSP_TARGET_SOCNAME}-machine.inc
